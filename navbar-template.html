<!-- Shared Navbar Template -->
<nav class="fixed w-full z-50 bg-white/95 dark:bg-slate-800/95 backdrop-blur-md shadow-lg navbar-slide show">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
        <a href="index.html" class="text-xl font-bold text-blue-800 dark:text-blue-400 animate-pulse-custom">
            Portfolio
        </a>

        <!-- Hamburger Button (mobile only) -->
        <button id="menu-toggle" class="lg:hidden p-2 rounded-md hover:bg-gray-200 dark:hover:bg-slate-700 transition-all duration-300">
            <i data-feather="menu" class="w-6 h-6"></i>
        </button>

        <!-- Menu Links -->
        <div id="menu" class="hidden lg:flex flex-col lg:flex-row items-center lg:space-x-8 absolute lg:static top-16 left-0 w-full lg:w-auto bg-white dark:bg-slate-800 lg:bg-transparent shadow-md lg:shadow-none p-4 lg:p-0 transition-all duration-300">
            <a href="index.html" class="menu-item hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-300 py-2 px-1">Home</a>
            <a href="profile.html" class="menu-item hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-300 py-2 px-1">Profil</a>
            <a href="certificates.html" class="menu-item hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-300 py-2 px-1">Sertifikat</a>
            <a href="projects.html" class="menu-item hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-300 py-2 px-1">Karya</a>
            <a href="literacy.html" class="menu-item hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-300 py-2 px-1">Literasiku</a>
            <a href="education.html" class="menu-item hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-300 py-2 px-1">Ruang Murid</a>
            <a href="tahfidz.html" class="menu-item hover:text-blue-600 dark:hover:text-blue-400 transition-all duration-300 py-2 px-1">Tahfidz</a>
            <button id="theme-toggle" class="mt-3 lg:mt-0 p-2 rounded-full hover:bg-gray-200 dark:hover:bg-slate-700 transition-all duration-300 hover:scale-110">
                <i data-feather="moon" class="w-5 h-5"></i>
            </button>
        </div>
    </div>
</nav>

<!-- Shared CSS Styles -->
<style>
    .navbar-slide {
        transform: translateY(-100%);
        transition: transform 0.3s ease-in-out;
    }
    .navbar-slide.show {
        transform: translateY(0);
    }
    .menu-item {
        position: relative;
        overflow: hidden;
    }
    .menu-item::before {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, #3b82f6, #8b5cf6);
        transition: width 0.3s ease;
    }
    .menu-item:hover::before {
        width: 100%;
    }
    @keyframes pulse {
        0%, 100% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.05);
        }
    }
    .animate-pulse-custom {
        animation: pulse 2s infinite;
    }
    .card {
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }
</style>

<!-- Shared JavaScript -->
<script>
    // Hamburger toggle
    const menuToggle = document.getElementById('menu-toggle');
    const menu = document.getElementById('menu');

    if (menuToggle && menu) {
        menuToggle.addEventListener('click', () => {
            menu.classList.toggle('hidden');
        });
    }

    // Theme Toggle (robust with Feather icons)
    const themeToggle = document.getElementById('theme-toggle');

    function applyThemeFromStorage() {
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
        const currentTheme = localStorage.getItem('theme');
        const isDark = currentTheme === 'dark' || (!currentTheme && prefersDarkScheme.matches);
        document.body.classList.toggle('dark', isDark);
    }

    function renderThemeIcon() {
        const isDark = document.body.classList.contains('dark');
        if (themeToggle) {
            themeToggle.innerHTML = `<i data-feather="${isDark ? 'sun' : 'moon'}" class="w-5 h-5"></i>`;
            feather.replace();
        }
    }

    applyThemeFromStorage();
    renderThemeIcon();

    if (themeToggle) {
        themeToggle.addEventListener('click', function() {
            const willBeDark = !document.body.classList.contains('dark');
            document.body.classList.toggle('dark', willBeDark);
            localStorage.setItem('theme', willBeDark ? 'dark' : 'light');
            renderThemeIcon();
        });
    }
</script>